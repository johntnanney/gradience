# Multi-seed uniform r=8 validation for practical baseline comparison
# Answers: "Do I need per-layer complexity, or does uniform r=8 get most gains?"

model:
  name: distilbert-base-uncased

task:
  dataset: glue
  subset: sst2
  metric: accuracy
  
train:
  max_steps: 200  # Mini validation budget  
  eval_steps: 50   
  save_steps: 50   
  
  lr: 0.00005  
  per_device_train_batch_size: 8
  per_device_eval_batch_size: 32
  weight_decay: 0.01
  
  # Sample sizes 
  train_samples: 800  # ~200 steps with batch_size=8
  eval_samples: 200   

lora:
  probe_r: 32  # Same baseline as per-layer comparison
  alpha: 32
  dropout: 0.0
  target_modules: ["q_lin","k_lin","v_lin","out_lin"]

compression:
  allowed_ranks: [8]  # Force uniform r=8 for simple heuristic
  acc_tolerance: 0.025  # Â±2.5% for single-seed mini-validation
  
  # Multi-seed configuration
  seeds: [42, 123, 456]  # Same 3 seeds for direct comparison
  variants_to_test: ["uniform_median"]  # Only test uniform r=8

runtime:
  device: cpu

bench_version: "0.1"
run_type: "uniform_r8_multiseed"