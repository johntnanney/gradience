# Test config for SVD truncation variants
# Demonstrates the new SVD compression capability in Gradience Bench

model:
  name: distilbert-base-uncased

task:
  dataset: glue
  subset: sst2  # Simple sentiment classification for testing
  metric: accuracy
  
train:
  max_steps: 50  # Quick test
  eval_steps: 25   
  save_steps: 25   
  
  lr: 0.00005  
  per_device_train_batch_size: 8
  per_device_eval_batch_size: 32
  weight_decay: 0.01
  seed: 42
  
  train_samples: 500  # Small dataset for testing
  eval_samples: 100   

lora:
  probe_r: 16  # Train r=16 probe first
  alpha: 16
  dropout: 0.0
  target_modules: ["q_lin","k_lin","v_lin","out_lin"]

compression:
  # Enable SVD truncation variants
  enable_svd_variants: true
  svd_ranks: [8, 4]  # Test truncation to r=8 and r=4
  
  # Standard compression settings
  allowed_ranks: [2, 4, 8, 16]
  acc_tolerance: 0.025

runtime:
  device: cpu

bench_version: "0.1"
run_type: "svd_truncation_test"